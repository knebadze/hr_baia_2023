/*1461641258,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["XgJKM"]); }

__d('GroupDocsReaderOverlay',['AsyncRequest','DOM','DOMContainer.react','LayerDestroyOnHide','LayerHideOnEscape','LayerHideOnTransition','NotesReader.react','PageTransitions','React','ReactDOM','TypewriterLayer','URI','XGroupDocEditorController','XNotesPermalinkController','goURI'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l,m){'use strict';this.$GroupDocsReaderOverlay1=i;this.$GroupDocsReaderOverlay2=j;if(k&&!Array.isArray(k)){this.$GroupDocsReaderOverlay3=k;}else this.$GroupDocsReaderOverlay3=m;this.$GroupDocsReaderOverlay4=c('DOM').create('div');this.$GroupDocsReaderOverlay5=null;this.$GroupDocsReaderOverlay6=null;this.$GroupDocsReaderOverlay7=new (c('TypewriterLayer'))({addedBehaviors:[c('LayerDestroyOnHide'),c('LayerHideOnEscape'),c('LayerHideOnTransition')]},this.$GroupDocsReaderOverlay4);this.$GroupDocsReaderOverlay7.subscribe('hide',this.$GroupDocsReaderOverlay8.bind(this));this.$GroupDocsReaderOverlay9();this.$GroupDocsReaderOverlay10();this.$GroupDocsReaderOverlay7.show();}h.prototype.$GroupDocsReaderOverlay8=function(){'use strict';c('PageTransitions').removeHandler(this.$GroupDocsReaderOverlay11);this.$GroupDocsReaderOverlay11=null;var i=function(j){var k=this.$GroupDocsReaderOverlay5;this.$GroupDocsReaderOverlay5=null;c('PageTransitions').removeHandler(i);if(k.getPath()===j.getPath()){c('PageTransitions').transitionComplete(true);return true;}return false;}.bind(this);c('PageTransitions').registerHandler(i);c('goURI')(this.$GroupDocsReaderOverlay5);};h.prototype.$GroupDocsReaderOverlay12=function(){'use strict';var i=c('XGroupDocEditorController').getURIBuilder().getURI();new (c('AsyncRequest'))(i).setData({doc_id:this.$GroupDocsReaderOverlay1,group_id:this.$GroupDocsReaderOverlay2}).setMethod('POST').setHandler(function(){this.$GroupDocsReaderOverlay7.hide();}.bind(this)).send();};h.prototype.$GroupDocsReaderOverlay9=function(){'use strict';c('ReactDOM').render(c('React').createElement(c('NotesReader.react'),{authorInfo:this.$GroupDocsReaderOverlay3.authorInfo,ownerID:this.$GroupDocsReaderOverlay3.authorInfo.ownerID,canEdit:this.$GroupDocsReaderOverlay3.canEdit,isDoc:true,noteID:this.$GroupDocsReaderOverlay1,title:this.$GroupDocsReaderOverlay3.title,menuMarkup:this.$GroupDocsReaderOverlay3.menuMarkup,onEdit:this.$GroupDocsReaderOverlay12.bind(this),permalinkURI:this.$GroupDocsReaderOverlay3.permalinkURI,ufiMarkup:this.$GroupDocsReaderOverlay3.ufiMarkup},c('React').createElement(c('DOMContainer.react'),{display:'block'},this.$GroupDocsReaderOverlay3.documentMarkup)),this.$GroupDocsReaderOverlay4);};h.prototype.$GroupDocsReaderOverlay10=function(){'use strict';var i=c('XNotesPermalinkController').getURIBuilder().setInt('note_id',this.$GroupDocsReaderOverlay1).setString('author',this.$GroupDocsReaderOverlay2).setString('slug',this.$GroupDocsReaderOverlay3.title).getURI();this.$GroupDocsReaderOverlay6=function(j){if(i.getPath()===j.getPath()){c('PageTransitions').transitionComplete(true);return true;}if(this.$GroupDocsReaderOverlay7.isShown()&&this.$GroupDocsReaderOverlay5.getPath()===j.getPath()){c('PageTransitions').removeHandler(this.$GroupDocsReaderOverlay6);this.$GroupDocsReaderOverlay6=null;this.$GroupDocsReaderOverlay5=null;c('PageTransitions').transitionComplete(true);return true;}this.$GroupDocsReaderOverlay6=null;return false;}.bind(this);c('PageTransitions').registerHandler(this.$GroupDocsReaderOverlay6);this.$GroupDocsReaderOverlay5=c('URI').getRequestURI();c('goURI')(i);};f.exports=h;},null);
__d('UFIScrollHighlight',['CSS','ScrollHighlight'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={actOn:function(i,j){c('ScrollHighlight').actOn(i,'#edeff4',j);c('CSS').removeClass(i,'highlightComment');}};f.exports=h;},null);